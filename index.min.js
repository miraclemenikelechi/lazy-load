var boxEl=document.querySelectorAll(".box"),boxObserver=new IntersectionObserver(function(e){e.forEach(function(e){switch(e.isIntersecting){case!0:e.target.classList.add("slide");break;case!1:e.target.classList.remove("slide")}})});boxEl.forEach(function(e){boxObserver.observe(e)});var lastBoxObserver=new IntersectionObserver(function(e){var r=e[0];r.isIntersecting&&(loadMoreBoxes(),lastBoxObserver.unobserve(r.target),lastBoxObserver.observe(document.querySelector(".box:last-child")))},{rootMargin:"256px 0px 0px 0px"});function loadMoreBoxes(){for(var e=0;e<50;e++){var r=document.createElement("section");r.classList.add("box"),r.innerHTML='<div class="box__wrapper"><span>'+(e+1)+"</span></div>",document.querySelector(".content").appendChild(r),boxObserver.observe(r)}}lastBoxObserver.observe(document.querySelector(".box:last-child"));